log to file test/1-2-3/log.txt, logger name is 1-2-3
{'gamma': 3.0, 'reward_param': 1.0, 'providers': [{'id': 0, 'num_models': 3, 'eta': 0.9, 'models': ['gpt-5-high', 'deepseek-r1', 'gpt-5-medium'], 'strategy': 1, 'reward_param': 1.0}, {'id': 1, 'num_models': 3, 'eta': 0.9, 'models': ['o3-mini', 'o1-mini', 'deepseek-r1'], 'strategy': 2, 'reward_param': 1.0}, {'id': 2, 'num_models': 3, 'eta': 0.9, 'models': ['claude-4-0', 'o1-mini', 'deepseek-r1'], 'strategy': 3, 'reward_param': 1.0}], 'path': 'config/nl_graph/yuhan1.yaml', 'eps': 0.3, 'num_tasks': 1000000.0, 'B': 3981, 'K': 3, 'M': 0.23637291771156435, 'output_dir': 'test/1-2-3'}
init provider 0
['gpt-5-medium', 'gpt-5-high', 'deepseek-r1']
init provider 1
['o3-mini', 'o1-mini', 'deepseek-r1']
init provider 2
['o1-mini', 'claude-4-0', 'deepseek-r1']
L is 38058
delta_1=11.1958, delta_2=0.0000
====================Stage1: Delegate each provider 3981 Times====================
Delegate provider 0 3981 tasks.
Delegate provider 1 3981 tasks.
Delegate provider 2 3981 tasks.
Providers sorted by avg_user_utility: [2, 1, 0]
Provider 0 avg_user_utility: 0.9214
Provider 0 avg_provider_utility: 0.0000
Provider 1 avg_user_utility: 0.7376
Provider 1 avg_provider_utility: 0.0000
Provider 2 avg_user_utility: 0.5800
Provider 2 avg_provider_utility: 0.0000
  阶段1完成，最佳服务商：0，平均效用：0.9214
  第二好服务商1	 第二好效用：0.7376



====================phase1_exploration end====================


====================Provider-0 History Info:==================
total input_tokens: 9266341.0
avg input_tokens: 2327.641547349912
total output_tokens: 26510681.0
avg output_tokens: 6659.3019341873905
total reported_output_tokens: 26510681.0
avg reported_output_tokens: 6659.3019341873905
total reported_price: 276.68973625
avg reported_price: 0.0695025712760613
total costs: 249.02076262500003
avg costs: 0.06255231414845518
total rewards: 3944.9093581754837
avg rewards: 0.9909342773613373
total user_utility: 3668.219621925484
avg user_utility: 0.921431706085276
total provider_utility: 0.0
avg provider_utility: 0.0


====================Provider-1 History Info:==================
total input_tokens: 9102198.0
avg input_tokens: 2286.409947249435
total output_tokens: 33211021.0
avg output_tokens: 8342.381562421502
total reported_output_tokens: 33211021.0
avg reported_output_tokens: 8342.381562421502
total reported_price: 156.1409102
avg reported_price: 0.03922152981662899
total costs: 140.52681918000002
avg costs: 0.0352993768349661
total rewards: 3092.4912508581124
avg rewards: 0.7768126729108547
total user_utility: 2936.350340658112
avg user_utility: 0.7375911430942256
total provider_utility: 0.0
avg provider_utility: 0.0


====================Provider-2 History Info:==================
total input_tokens: 9753262.0
avg input_tokens: 2449.9527756845014
total output_tokens: 15432207.0
avg output_tokens: 3876.4649585531274
total reported_output_tokens: 15432207.0
avg reported_output_tokens: 3876.4649585531274
total reported_price: 78.63029900000001
avg reported_price: 0.019751393870886712
total costs: 70.76726910000001
avg costs: 0.01777625448379804
total rewards: 2387.418798068042
avg rewards: 0.5997032901452003
total user_utility: 2308.7884990680423
avg user_utility: 0.5799518962743135
total provider_utility: 0.0
avg provider_utility: 0.0



====================phase2_exploitation start====================
后面的东西是：0.10877724091141051
Phase2 delta_3 components | provider 1: avg_reward=0.7768, avg_output_tokens=8342.38
Phase2 delta_3 components | provider 2: avg_reward=0.5997, avg_output_tokens=3876.46
delta_1 = 11.195840192374956
delta_2 = 0.0
delta_3 = -18.37671780409963
R = T - ((delta_1 + 3) * K + delta_2 + delta_3) * B = 1000000 - ((11.195840192374956 + 3) * 3 + 0.0 + -18.37671780409963) * 3981 = 903616.7941605865
  计划委托903616次，阈值：0.6288
  在903616次委托后停止，总provider_utility：0.0000
 奖励在3981次委托后停止，总provider utility：0.0000



====================phase2_exploitation end====================


====================Provider-0 History Info:==================
total input_tokens: 2112881720.0
avg input_tokens: 2317.8287760345247
total output_tokens: 6051543719.0
avg output_tokens: 6638.536383063216
total reported_output_tokens: 6051543719.0
avg reported_output_tokens: 6638.536383063216
total reported_price: 63156.53933999999
avg reported_price: 0.0692826498006753
total costs: 56840.885405999994
avg costs: 0.062354384820607775
total rewards: 903646.6953117399
avg rewards: 0.9912993680318524
total user_utility: 840490.1559717399
avg user_utility: 0.922016718231177
total provider_utility: 0.0
avg provider_utility: 0.0


====================Provider-1 History Info:==================
total input_tokens: 9102198.0
avg input_tokens: 2286.409947249435
total output_tokens: 33211021.0
avg output_tokens: 8342.381562421502
total reported_output_tokens: 33211021.0
avg reported_output_tokens: 8342.381562421502
total reported_price: 156.1409102
avg reported_price: 0.03922152981662899
total costs: 140.52681918000002
avg costs: 0.0352993768349661
total rewards: 3092.4912508581124
avg rewards: 0.7768126729108547
total user_utility: 2936.350340658112
avg user_utility: 0.7375911430942256
total provider_utility: 0.0
avg provider_utility: 0.0


====================Provider-2 History Info:==================
total input_tokens: 9753262.0
avg input_tokens: 2449.9527756845014
total output_tokens: 15432207.0
avg output_tokens: 3876.4649585531274
total reported_output_tokens: 15432207.0
avg reported_output_tokens: 3876.4649585531274
total reported_price: 78.63029900000001
avg reported_price: 0.019751393870886712
total costs: 70.76726910000001
avg costs: 0.01777625448379804
total rewards: 2387.418798068042
avg rewards: 0.5997032901452003
total user_utility: 2308.7884990680423
avg user_utility: 0.5799518962743135
total provider_utility: 0.0
avg provider_utility: 0.0



====================phase2_incentive start====================
====================Stage2 Incentive: Delegate non-best providers 3981 Times each====================
Delegate provider 1 3981 tasks.
Delegate provider 2 3981 tasks.


====================Provider-0 History Info:==================
total input_tokens: 2112881720.0
avg input_tokens: 2317.8287760345247
total output_tokens: 6051543719.0
avg output_tokens: 6638.536383063216
total reported_output_tokens: 6051543719.0
avg reported_output_tokens: 6638.536383063216
total reported_price: 63156.53933999999
avg reported_price: 0.0692826498006753
total costs: 56840.885405999994
avg costs: 0.062354384820607775
total rewards: 903646.6953117399
avg rewards: 0.9912993680318524
total user_utility: 840490.1559717399
avg user_utility: 0.922016718231177
total provider_utility: 0.0
avg provider_utility: 0.0


====================Provider-1 History Info:==================
total input_tokens: 18202950.0
avg input_tokens: 2286.2283345892993
total output_tokens: 76394620.0
avg output_tokens: 9594.903290630495
total reported_output_tokens: 184719919.0
avg reported_output_tokens: 23200.19078121075
total reported_price: 832.7908885999999
avg reported_price: 0.10459569060537552
total costs: 226.788387561
avg costs: 0.028483846717030897
total rewards: 5217.82508501841
avg rewards: 0.6553410054029654
total user_utility: 4385.03419641841
avg user_utility: 0.5507453147975898
total provider_utility: 522.723412179
avg provider_utility: 0.06565227482780708


====================Provider-2 History Info:==================
total input_tokens: 18864124.0
avg input_tokens: 2369.2695302687766
total output_tokens: 58618866.0
avg output_tokens: 7362.329314242653
total reported_output_tokens: 166941105.0
avg reported_output_tokens: 20967.232479276565
total reported_price: 755.2913984
avg reported_price: 0.09486201939211254
total costs: 157.036142601
avg costs: 0.019723203039562924
total rewards: 4513.20353990382
avg rewards: 0.5668429464837754
total user_utility: 3757.9121415038194
avg user_utility: 0.47198092709166284
total provider_utility: 522.726115959
avg provider_utility: 0.06565261441333836



====================phase2_incentive end====================



====================phase3_utility_based start====================
for provider 0: log_avg_reward=-0.009107066365676583, log_avg_output_tokens=8.803769943354414, avg_output_tokens/L = 0.17497771649028826, L=38058
delta_1=11.195840192374956
for provider 0: avg_reward:0.9909342773613373, avg_output_tokens: 6659.3019341873905, delta: 2.2079854661645775
delta: 2.2079854661645775
provider 0: 计划委托次数 8789 (整数部分)
provider 0: 被委托了8789次: 收了provider_utility:0.0
provider 0: 小数部分触发，追加委托 1 次
狗运：provider 0  被委托了8789次: 收了provider_utility:0.0 
for provider 1: log_avg_reward=-0.2525560478862252, log_avg_output_tokens=9.029104013631915, avg_output_tokens/L = 0.219201785759144, L=38058
delta_1=11.195840192374956
for provider 1: avg_reward:0.7768126729108547, avg_output_tokens: 8342.381562421502, delta: 1.6949783450976712
delta: 1.6949783450976712
provider 1: 计划委托次数 6747 (整数部分)
provider 1: 被委托了6747次: 收了provider_utility:886.18437747
provider 1: 小数部分触发，追加委托 1 次
狗运：provider 1  被委托了6747次: 收了provider_utility:0.135152712 
for provider 2: log_avg_reward=-0.5113202625042297, log_avg_output_tokens=8.26267892416327, avg_output_tokens/L = 0.10185677015484595, L=38058
delta_1=11.195840192374956
for provider 2: avg_reward:0.5997032901452003, avg_output_tokens: 3876.4649585531274, delta: 2.3199842355526106
delta: 2.3199842355526106
provider 2: 计划委托次数 9235 (整数部分)
provider 2: 被委托了9235次: 收了provider_utility:1213.732672974
provider 2: 小数部分触发，追加委托 1 次
狗运：provider 2  被委托了9235次: 收了provider_utility:0.13528398599999997 


====================Provider-0 History Info:==================
total input_tokens: 2133250301.0
avg input_tokens: 2317.823197894755
total output_tokens: 6109873270.0
avg output_tokens: 6638.511193348748
total reported_output_tokens: 6109873270.0
avg reported_output_tokens: 6638.511193348748
total reported_price: 63765.29557624999
avg reported_price: 0.0692823909308559
total costs: 57388.76601862499
avg costs: 0.062354151837770315
total rewards: 912364.0903532745
avg rewards: 0.9913035767793692
total user_utility: 848598.7947770243
avg user_utility: 0.9220211858485131
total provider_utility: 0.0
avg provider_utility: 0.0


====================Provider-1 History Info:==================
total input_tokens: 33621451.0
avg input_tokens: 2285.6186947654655
total output_tokens: 149449402.0
avg output_tokens: 10159.714615907546
total reported_output_tokens: 441535303.0
avg reported_output_tokens: 30015.996125084977
total reported_price: 1979.7389292999999
avg reported_price: 0.1345845635146159
total costs: 372.722094009
avg costs: 0.025338007750441875
total rewards: 8837.531798405751
avg rewards: 0.6007839427876105
total user_utility: 6857.792869105751
avg user_utility: 0.46619937927299465
total provider_utility: 1409.0429423609999
avg provider_utility: 0.09578809941271244


====================Provider-2 History Info:==================
total input_tokens: 39968331.0
avg input_tokens: 2324.0104081869986
total output_tokens: 158223474.0
avg output_tokens: 9200.108966158856
total reported_output_tokens: 518444793.0
avg reported_output_tokens: 30145.644435399467
total reported_price: 2325.1222533
avg reported_price: 0.13519724696476335
total costs: 356.015955051
avg costs: 0.020701009131933946
total rewards: 9464.445270668137
avg rewards: 0.5503224369501184
total user_utility: 7139.323017368139
avg user_utility: 0.4151251899853552
total provider_utility: 1736.594072919
avg provider_utility: 0.10097651313635306



====================phase3_utility_based end====================
